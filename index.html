<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ControlXpert - Sistema de Gestão e Controle</title>
	<meta property="og:title" content="ControlXpert - Sistema de Gestão e Controle - Thiago Rodrigues">
	<meta property="og:description" content="A ferramenta pra quem precisa gerenciar e controlar um sistema financeiro, empresarial ou pessoal.">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <span>ControlXpert</span>
        </div>
        <nav>
            <ul>
                <li class="active" data-section="dashboard-section">
                    <i class="material-icons">dashboard</i>
                    <span>Dashboard</span>
                </li>
                <li data-section="reports-section">
                    <i class="material-icons">assessment</i>
                    <span>Relatórios</span>
                </li>
                <li data-section="transactions-section">
                    <i class="material-icons">add_box</i>
                    <span>Lançamentos</span>
                </li>
                <li data-section="inventory-section">
                    <i class="material-icons">inventory</i>
                    <span>Estoque</span>
                </li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            <button id="creatorInfo" class="creator-btn">
                <i class="material-icons">code</i>
                <span>Desenvolvedor</span>
            </button>
        </div>
    </div>

    <main>
        <header>
            <div class="welcome">
                <h1>Bem-vindo</h1>
                <button id="logoutBtn" class="logout-btn">Sair do Sistema</button>
            </div>
            <div class="actions">
                <button id="importBackup" class="secondary-btn">
                    <i class="material-icons">upload_file</i>
                    Importar Backup
                </button>
                <button id="exportBackup" class="secondary-btn">
                    <i class="material-icons">download</i>
                    Fazer Backup
                </button>
                <button id="resetSystem" class="danger-btn">
                    <i class="material-icons">refresh</i>
                    Resetar
                </button>
                <button id="exportReport" class="export-btn">
                    <i class="material-icons">file_download</i>
                    RELATÓRIO
                </button>
            </div>
        </header>

        <!-- Dashboard Section -->
        <section id="dashboard-section" class="content-section active">
            <div class="dashboard-grid">
                <div class="card">
                    <h3>Ganhos</h3>
                    <div class="value" id="totalRevenue">R$ 0,00</div>
                </div>
                <div class="card">
                    <h3>Gastos</h3>
                    <div class="value" id="operationalCosts">R$ 0,00</div>
                </div>
                <div class="card">
                    <h3>Balanço</h3>
                    <div class="value" id="netProfit">R$ 0,00</div>
                </div>
                <div class="card">
                    <h3>Margem</h3>
                    <div class="value" id="profitMargin">0,00%</div>
                </div>
            </div>

            <div class="charts-container">
                <div class="chart-card">
                    <h3>Receitas e Despesas</h3>
                    <canvas id="revenueChart"></canvas>
                </div>
                <div class="chart-card">
                    <h3>Lucro Líquido</h3>
                    <canvas id="profitChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Reports Section -->
        <section id="reports-section" class="content-section">
            <h2>Relatórios</h2>
            <div class="reports-container">
                <div class="report-card">
                    <h3>Relatório de Vendas</h3>
                    <p>Visualize todas as vendas realizadas em um período específico.</p>
                    <button class="secondary-btn" id="salesReportBtn">
                        <i class="material-icons">description</i>
                        Gerar Relatório
                    </button>
                </div>
                <div class="report-card">
                    <h3>Relatório de Estoque</h3>
                    <p>Visualize a situação atual do estoque e produtos com baixa quantidade.</p>
                    <button class="secondary-btn" id="inventoryReportBtn">
                        <i class="material-icons">inventory</i>
                        Gerar Relatório
                    </button>
                </div>
                <div class="report-card">
                    <h3>Relatório Financeiro</h3>
                    <p>Visualize o desempenho financeiro do negócio.</p>
                    <button class="secondary-btn" id="financialReportBtn">
                        <i class="material-icons">attach_money</i>
                        Gerar Relatório
                    </button>
                </div>
            </div>
        </section>

        <!-- Transactions Section -->
        <section id="transactions-section" class="content-section">
            <h2>Lançamentos</h2>
            <div class="actions-bar">
                <button id="addEntry" class="primary-btn">
                    <i class="material-icons">add</i>
                    Entrada de Produtos
                </button>
                <button id="addExit" class="primary-btn exit-btn">
                    <i class="material-icons">remove</i>
                    Saída de Produtos
                </button>
            </div>
            <div class="table-container">
                <table id="transactionsTable">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Tipo</th>
                            <th>Produto</th>
                            <th>Quantidade</th>
                            <th>Valor Total</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dados serão inseridos via JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Inventory Section -->
        <section id="inventory-section" class="content-section">
            <h2>Controle de Estoque</h2>
            <div class="actions-bar">
                <button id="addProduct" class="primary-btn">
                    <i class="material-icons">add</i>
                    Novo Produto
                </button>
                <button id="generateQuote" class="secondary-btn">
                    <i class="material-icons">description</i>
                    Gerar Orçamento
                </button>
            </div>
            <div class="table-container">
                <table id="inventoryTable">
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Produto</th>
                            <th>Quantidade</th>
                            <th>Preço Unit.</th>
                            <th>Total</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dados serão inseridos via JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <!-- Modal para adicionar/editar produtos -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <h2>Adicionar Produto</h2>
            <form id="productForm">
                <div class="form-group">
                    <label for="productCode">Código</label>
                    <input type="text" id="productCode" required>
                </div>
                <div class="form-group">
                    <label for="productName">Nome do Produto</label>
                    <input type="text" id="productName" required>
                </div>
                <div class="form-group">
                    <label for="productQuantity">Quantidade</label>
                    <input type="number" id="productQuantity" required>
                </div>
                <div class="form-group">
                    <label for="productPrice">Preço Unitário</label>
                    <input type="number" step="0.01" id="productPrice" required>
                </div>
                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="closeModal('productModal')">Cancelar</button>
                    <button type="submit" class="save-btn">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para entrada/saída de produtos -->
    <div id="transactionModal" class="modal">
        <div class="modal-content">
            <h2 id="transactionModalTitle">Entrada de Produtos</h2>
            <form id="transactionForm">
                <div class="form-group" id="clientField">
                    <label for="transactionClient">Cliente</label>
                    <input type="text" id="transactionClient">
                </div>
                <div class="form-group" id="sellerField">
                    <label for="transactionSeller">Vendedor</label>
                    <input type="text" id="transactionSeller">
                </div>
                <div class="form-group" id="paymentMethodField">
                    <label for="transactionPayment">Método de Pagamento</label>
                    <select id="transactionPayment">
                        <option value="">Selecione o método de pagamento</option>
                        <option value="dinheiro">Dinheiro</option>
                        <option value="pix">PIX</option>
                        <option value="credito">Cartão de Crédito</option>
                        <option value="debito">Cartão de Débito</option>
                        <option value="boleto">Boleto Bancário</option>
                        <option value="transferencia">Transferência Bancária</option>
                    </select>
                </div>
                <div class="form-group" id="installmentsField" style="display: none;">
                    <label for="transactionInstallments">Parcelas</label>
                    <select id="transactionInstallments">
                        <option value="1">1x</option>
                        <option value="2">2x</option>
                        <option value="3">3x</option>
                        <option value="4">4x</option>
                        <option value="5">5x</option>
                        <option value="6">6x</option>
                        <option value="7">7x</option>
                        <option value="8">8x</option>
                        <option value="9">9x</option>
                        <option value="10">10x</option>
                        <option value="11">11x</option>
                        <option value="12">12x</option>
                    </select>
                </div>
                
                <!-- Products Section -->
                <div class="form-group">
                    <label>Produtos</label>
                    <div class="transaction-products-container">
                        <table id="transactionProductsTable">
                            <thead>
                                <tr>
                                    <th>Produto</th>
                                    <th>Quantidade</th>
                                    <th>Preço</th>
                                    <th>Desconto</th>
                                    <th>Total</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Products will be added here -->
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="4" style="text-align: right;"><strong>Total Geral:</strong></td>
                                    <td id="transactionTotalAmount"><strong>R$ 0,00</strong></td>
                                    <td></td>
                                </tr>
                            </tfoot>
                        </table>
                        <button type="button" id="addTransactionProduct" class="secondary-btn">
                            <i class="material-icons">add</i>
                            Adicionar Produto
                        </button>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="closeModal('transactionModal')">Cancelar</button>
                    <button type="submit" class="save-btn">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para adicionar produto à transação -->
    <div id="addTransactionProductModal" class="modal">
        <div class="modal-content">
            <h2>Adicionar Produto</h2>
            <div class="product-type-selector">
                <button type="button" class="product-type-btn active" data-type="stock">Produtos Estoque</button>
                <button type="button" class="product-type-btn" data-type="other">Outros Produtos</button>
            </div>
            
            <!-- Formulário para Produtos Estoque -->
            <form id="addStockProductForm" class="product-form active">
                <div class="form-group">
                    <label for="transactionProductSelect">Produto</label>
                    <select id="transactionProductSelect" required>
                        <option value="">Selecione um produto</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transactionProductQuantity">Quantidade</label>
                    <input type="number" id="transactionProductQuantity" required min="1">
                </div>
                <div class="form-group">
                    <label for="transactionProductPrice">Preço Unitário</label>
                    <input type="number" step="0.01" id="transactionProductPrice" required>
                </div>
                <div class="form-group" id="discountField">
                    <label for="transactionProductDiscount">Desconto Fixo (R$)</label>
                    <input type="number" step="0.01" id="transactionProductDiscount" value="0">
                </div>
            </form>

            <!-- Formulário para Outros Produtos -->
            <form id="addOtherProductForm" class="product-form">
                <div class="form-group">
                    <label for="otherProductName">Nome do Produto</label>
                    <input type="text" id="otherProductName" required>
                </div>
                <div class="form-group">
                    <label for="otherProductQuantity">Quantidade</label>
                    <input type="number" id="otherProductQuantity" required min="1">
                </div>
                <div class="form-group">
                    <label for="otherProductPrice">Preço Unitário</label>
                    <input type="number" step="0.01" id="otherProductPrice" required>
                </div>
                <div class="form-group">
                    <label for="otherProductDiscount">Desconto Fixo (R$)</label>
                    <input type="number" step="0.01" id="otherProductDiscount" value="0">
                </div>
            </form>

            <div class="form-actions">
                <button type="button" class="cancel-btn" onclick="closeModal('addTransactionProductModal')">Cancelar</button>
                <button type="button" class="save-btn" id="addProductSubmit">Adicionar</button>
            </div>
        </div>
    </div>

    <!-- Modal para orçamento/pedido -->
    <div id="orderModal" class="modal">
        <div class="modal-content">
            <h2 id="orderModalTitle">Gerar Orçamento</h2>
            <form id="orderForm">
                <div class="form-group">
                    <label for="orderClient">Cliente</label>
                    <input type="text" id="orderClient" required>
                </div>
                <div class="form-group">
                    <label for="orderSeller">Vendedor</label>
                    <input type="text" id="orderSeller" required>
                </div>
                <div class="form-group">
                    <label>Produtos</label>
                    <div class="order-products-container">
                        <table id="orderProductsTable">
                            <thead>
                                <tr>
                                    <th>Produto</th>
                                    <th>Quantidade</th>
                                    <th>Preço</th>
                                    <th>Total</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Produtos serão adicionados aqui -->
                            </tbody>
                        </table>
                        <button type="button" id="addOrderProduct" class="secondary-btn">
                            <i class="material-icons">add</i>
                            Adicionar Produto
                        </button>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="cancel-btn" onclick="closeModal('orderModal')">Cancelar</button>
                    <button type="submit" class="save-btn">Gerar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para adicionar produto ao orçamento/pedido -->
    <div id="addOrderProductModal" class="modal">
        <div class="modal-content">
            <h2>Adicionar Produto ao Orçamento</h2>
            <div class="product-type-selector">
                <button class="product-type-btn active" data-type="stock">Produtos do Estoque</button>
                <button class="product-type-btn" data-type="other">Outros Produtos</button>
            </div>
            
            <!-- Formulário para produtos do estoque -->
            <form id="addStockProductForm" class="product-form active">
                <div class="form-group">
                    <label for="orderProductSelect">Produto</label>
                    <select id="orderProductSelect" required>
                        <option value="">Selecione um produto</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="orderProductQuantity">Quantidade</label>
                    <input type="number" id="orderProductQuantity" min="1" required>
                </div>
                <div class="form-group">
                    <label for="orderProductPrice">Preço Unitário</label>
                    <input type="number" id="orderProductPrice" step="0.01" min="0" required>
                </div>
                <div class="form-group">
                    <label for="orderProductDiscount">Desconto</label>
                    <input type="number" id="orderProductDiscount" step="0.01" min="0">
                </div>
            </form>
            
            <!-- Formulário para outros produtos -->
            <form id="addOtherProductForm" class="product-form">
                <div class="form-group">
                    <label for="otherProductName">Nome do Produto</label>
                    <input type="text" id="otherProductName" required>
                </div>
                <div class="form-group">
                    <label for="otherProductQuantity">Quantidade</label>
                    <input type="number" id="otherProductQuantity" min="1" required>
                </div>
                <div class="form-group">
                    <label for="otherProductPrice">Preço Unitário</label>
                    <input type="number" id="otherProductPrice" step="0.01" min="0" required>
                </div>
                <div class="form-group">
                    <label for="otherProductDiscount">Desconto</label>
                    <input type="number" id="otherProductDiscount" step="0.01" min="0">
                </div>
            </form>
            
            <div class="form-actions">
                <button type="button" class="secondary-btn" onclick="closeModal('addOrderProductModal')">Cancelar</button>
                <button type="button" id="addOrderProductSubmit" class="save-btn">Adicionar</button>
            </div>
        </div>
    </div>

    <!-- Modal para nome do usuário -->
    <div id="nameModal" class="modal name-modal">
        <div class="modal-content dark-theme">
            <h2>Bem-vindo!</h2>
            <p>Por favor, digite seu nome para continuar:</p>
            <form id="nameForm">
                <div class="form-group">
                    <input type="text" id="userName" required placeholder="Seu nome" autocomplete="off">
                </div>
                <div class="form-actions">
                    <button type="submit" class="save-btn">Continuar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para informações do criador -->
    <div id="creatorModal" class="modal">
        <div class="modal-content dark-theme">
            <h2>Informações do Criador</h2>
            <div class="creator-info">
                <p><strong>Sistema desenvolvido por:</strong></p>
                <p class="creator-name">Thiago F. Rodrigues</p>
                <p class="creator-email">throdrigf@gmail.com</p>
            </div>
            <div class="form-actions">
                <button type="button" class="save-btn" onclick="closeModal('creatorModal')">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Cofre para Reset -->
    <div id="resetVaultModal" class="modal">
        <div class="modal-content vault-modal">
            <h2>Reset do Sistema</h2>
            <div class="vault-display">
                <div class="vault-password" id="vaultPassword">****</div>
            </div>
            <p style="text-align: center; color: #A0AEC0; font-size: 14px; margin-top: -10px; margin-bottom: 20px;">
                A senha de confirmação é <strong>0000</strong>
            </p>
            <div class="vault-keypad">
                <button type="button" class="vault-btn" data-number="1">1</button>
                <button type="button" class="vault-btn" data-number="2">2</button>
                <button type="button" class="vault-btn" data-number="3">3</button>
                <button type="button" class="vault-btn" data-number="4">4</button>
                <button type="button" class="vault-btn" data-number="5">5</button>
                <button type="button" class="vault-btn" data-number="6">6</button>
                <button type="button" class="vault-btn" data-number="7">7</button>
                <button type="button" class="vault-btn" data-number="8">8</button>
                <button type="button" class="vault-btn" data-number="9">9</button>
                <button type="button" class="vault-btn vault-clear">C</button>
                <button type="button" class="vault-btn" data-number="0">0</button>
                <button type="button" class="vault-btn vault-enter">↵</button>
            </div>
            <div class="form-actions">
                <button type="button" class="cancel-btn" onclick="closeModal('resetVaultModal')">Cancelar</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="js/main.js"></script>
</body>
</html> 